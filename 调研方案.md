# 个人网站建设方案 — 完整调研

> 调研日期: 2026-02-27
> 状态: 方案确定，待实施

---

## 一、项目概述

**目标**: 从零搭建一个精美的综合个人主页，包含作品展示、个人介绍、博客、视频等内容。
**风格**: 大胆创意 — 鲜艳色彩、大字体、独特布局、视觉冲击力。
**部署**: 腾讯云服务器，计划购买域名。

---

## 二、技术栈选型

| 层级 | 技术 | 理由 |
|------|------|------|
| 框架 | **Astro 5.x** | 内容优先，默认零 JS，性能极佳，模板丰富，AI 文档支持极好 |
| 交互组件 | **React 19 + Aceternity UI** | 通过 Astro Islands 按需加载炫酷动效组件 |
| 样式 | **Tailwind CSS v4** | 快速迭代，utility-first，AI 生成代码最友好的 CSS 方案 |
| 动画 | **Framer Motion + GSAP** | 组件动画 + 滚动触发特效 |
| 内容管理 | **Astro Content Collections + MDX** | 类型安全的博客/项目数据，Markdown 写作 |
| 构建输出 | **纯静态 HTML (SSG)** | 安全、快速、无数据库、无后端 |
| 服务器 OS | **Ubuntu 22.04 LTS** | 最稳定，Docker 生态最好 |
| Web 服务器 | **Caddy 2.x (Docker)** | 全自动 HTTPS，零配置 TLS，比 Nginx 简单很多 |
| CI/CD | **GitHub Actions** | push 到 main 自动构建部署 |

### 为什么选 Astro？

1. **纯前端，不需要后端/数据库** — 生成纯静态 HTML，你只需要懂 HTML/CSS/JS
2. **AI 友好度极高** — Astro、React、Tailwind 是 AI 训练数据中覆盖最多的技术栈
3. **性能极佳** — 默认不发送 JavaScript，页面加载极快
4. **学习曲线低** — `.astro` 文件就是增强版 HTML，前端开发者秒上手
5. **生态丰富** — 有大量现成模板和组件可以直接用

### 框架对比参考

| 框架 | 类型 | 性能 | 学习难度 | AI 友好度 | 适合场景 |
|------|------|------|----------|----------|----------|
| **Astro** ✅ | SSG | ⭐⭐⭐⭐⭐ | ⭐⭐ (低) | ⭐⭐⭐⭐⭐ | 内容网站、博客、作品集 |
| Next.js | SSR/SSG | ⭐⭐⭐⭐ | ⭐⭐⭐ (中) | ⭐⭐⭐⭐⭐ | 全栈应用、需要动态数据 |
| Hugo | SSG | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ (中) | ⭐⭐⭐ | 纯内容站、博客 |
| SvelteKit | SSR/SSG | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ (中) | ⭐⭐⭐ | 交互丰富的应用 |

---

## 三、设计系统 — "大胆创意"风格

### 3.1 配色方案

暗色科技底 + 高饱和撞色，视觉冲击力强：

| 角色 | 名称 | 色值 | 用途 |
|------|------|------|------|
| 主背景 | Deep Space | `#0A0A0F` | 页面底色 |
| 卡片背景 | Charcoal | `#141420` | 卡片、区块 |
| 悬停背景 | Slate Dark | `#1E1E2E` | 悬停、弹窗 |
| 主强调 | Electric Violet | `#7C3AED` | CTA、链接、主要交互 |
| 副强调 | Hot Pink | `#EC4899` | 高亮、标签、二级强调 |
| 第三强调 | Cyber Cyan | `#06B6D4` | 代码块、技术元素 |
| 第四强调 | Lime Burst | `#84CC16` | 成功、在线指示 |
| 主文字 | Snow | `#F8FAFC` | 标题、正文 |
| 副文字 | Silver Mist | `#94A3B8` | 副标题、元数据 |
| 弱文字 | Slate | `#64748B` | 说明、时间戳 |
| 渐变 1 | Violet → Pink | `#7C3AED → #EC4899` | Hero 背景、按钮 |
| 渐变 2 | Cyan → Violet | `#06B6D4 → #7C3AED` | 交替区块 |

### 3.2 字体

| 角色 | 字体 | 字重 | 尺寸 |
|------|------|------|------|
| 展示/Hero | **Space Grotesk** | 700 (Bold) | 48px - 96px |
| 标题 | **Space Grotesk** | 600 (SemiBold) | 24px - 48px |
| 正文 | **Inter** | 400 (Regular) | 16px - 18px |
| 代码 | **JetBrains Mono** | 400 | 14px - 16px |

> 全部通过 `@fontsource` 自托管，不依赖 Google Fonts CDN（国内被墙）

### 3.3 核心动效 (Aceternity UI 组件)

| 组件 | 位置 | 效果 |
|------|------|------|
| **Aurora Background** | Hero 区域 | 动态渐变极光背景 |
| **Spotlight** | Hero | 鼠标跟随光效 |
| **Text Generate Effect** | Hero 标题 | 文字逐字淡入 |
| **3D Card Effect** | 项目卡片 | 悬停时 3D 倾斜视差 |
| **Bento Grid** | 项目展示 | 不等大小的卡片网格 |
| **Floating Dock** | 导航栏 | macOS 风格浮动导航 |
| **Typewriter Effect** | 角色描述 | 循环打字效果 |
| **Focus Cards** | 博客卡片 | 聚焦时模糊兄弟元素 |
| **Card Hover Effect** | 技能/技术栈 | 滑入高亮效果 |

### 3.4 布局风格

- **非对称网格**: 打破传统居中布局
- **Hero**: 全屏，文字偏左 30%，视觉元素偏右 60%
- **项目**: Bento Grid（1x1, 2x1, 1x2, 2x2 混合卡片）
- **关于**: 分屏 — 大幅头像溢出边缘 + 文字在另一侧
- **博客**: 置顶文章全宽 + 网格布局
- **区块间距**: 8rem+ 大留白，区块内紧凑
- **页面过渡**: Astro View Transitions API，300ms 渐变

---

## 四、页面结构

### 1. 首页 (`/`)
- **Hero 区域** (全屏): 极光背景 + 光标跟踪光效 + 逐字生成标题 + 循环打字角色描述 + 渐变 CTA 按钮 + 滚动指示箭头
- **精选项目**: Bento Grid 展示 4-6 个项目，3D 悬停效果
- **关于预览**: 分屏（大幅头像 + 简介 + 关键数据），滚动触发淡入
- **最新博客**: 3 张 Focus Cards
- **联系 CTA**: 全宽渐变条 + 社交链接

### 2. 关于页 (`/about`)
- 全幅头像 + 视差效果
- 个人简介 2-3 段
- 时间线（GSAP 滚动触发逐项显示）
- 技能/技术栈（分类卡片网格）
- 简历下载按钮

### 3. 项目页 (`/projects`)
- 分类筛选标签（All / Web / Mobile / Design）
- Bento Grid 展示所有项目
- 单个项目详情页：全宽图 + 技术栈标签 + 描述 + 截图 + 链接

### 4. 博客 (`/blog`)
- 置顶文章 + 网格列表 + 标签筛选 + 分页
- 文章页：自动目录 + 阅读时间 + 标签 + 代码高亮 + 上下篇导航
- MDX 支持（可嵌入 React 组件）

### 5. 视频页 (`/videos`)
- 置顶视频大播放器
- 视频缩略图网格
- 支持 Bilibili / YouTube 嵌入
- 懒加载 iframe

### 6. 联系页 (`/contact`)
- 分屏：联系信息 + 社交链接 | 联系表单
- 表单用 Formspree / Web3Forms（免费，无需后端）

---

## 五、项目目录结构

```
D:\PersonalWebsite/
├── public/                      # 静态资源（图片、favicon 等）
│   ├── images/projects/         # 项目截图
│   ├── images/blog/             # 博客配图
│   ├── favicon.svg
│   └── og-image.png             # 社交分享默认图
│
├── src/
│   ├── components/
│   │   ├── ui/                  # Aceternity UI 组件 (React)
│   │   ├── astro/               # 纯 Astro 组件 (零 JS)
│   │   │   ├── Header.astro
│   │   │   ├── Footer.astro
│   │   │   ├── SEO.astro
│   │   │   ├── VideoEmbed.astro
│   │   │   └── ...
│   │   └── react/               # 自定义 React Islands
│   │       ├── HeroSection.tsx
│   │       ├── ProjectGallery.tsx
│   │       ├── Navigation.tsx
│   │       └── ...
│   │
│   ├── layouts/
│   │   ├── BaseLayout.astro     # HTML 外壳（所有页面共用）
│   │   ├── PageLayout.astro     # 标准页面布局
│   │   └── BlogLayout.astro     # 博客文章布局
│   │
│   ├── pages/                   # 路由页面
│   │   ├── index.astro          # 首页
│   │   ├── about.astro
│   │   ├── projects/
│   │   ├── blog/
│   │   ├── videos.astro
│   │   └── contact.astro
│   │
│   ├── content/                 # 内容集合
│   │   ├── config.ts            # 内容模式定义
│   │   ├── blog/                # 博客文章 (MDX)
│   │   └── projects/            # 项目数据 (YAML)
│   │
│   ├── styles/global.css        # Tailwind 指令 + 自定义样式
│   └── lib/utils.ts             # 工具函数
│
├── docker/
│   ├── Caddyfile                # Caddy 服务器配置
│   └── docker-compose.yml       # Docker 编排
│
├── .github/workflows/deploy.yml # CI/CD 自动部署
├── astro.config.mjs             # Astro 配置
├── tailwind.config.mjs          # Tailwind 配置
├── tsconfig.json
└── package.json
```

---

## 六、服务器部署方案

### 6.1 腾讯云配置

1. **系统镜像**: Ubuntu 22.04 LTS
2. **安全组规则**: 开放 22(SSH)、80(HTTP)、443(HTTPS)
3. **推荐配置**: 2 核 2G 及以上（静态站不需要太高配置）

### 6.2 服务器初始化步骤

```bash
# 1. 更新系统
sudo apt update && sudo apt upgrade -y

# 2. 创建部署用户
sudo adduser deploy
sudo usermod -aG sudo deploy

# 3. 设置 SSH 密钥登录（从本地复制公钥）
# 本地执行: ssh-copy-id deploy@你的服务器IP

# 4. 加固 SSH（禁止 root 登录和密码登录）
sudo sed -i 's/#PermitRootLogin yes/PermitRootLogin no/' /etc/ssh/sshd_config
sudo sed -i 's/#PasswordAuthentication yes/PasswordAuthentication no/' /etc/ssh/sshd_config
sudo systemctl restart sshd

# 5. 配置防火墙
sudo ufw allow OpenSSH
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw enable

# 6. 安装 Docker
curl -fsSL https://get.docker.com | sudo sh
sudo usermod -aG docker deploy
# 需要重新登录才能生效

# 7. 验证 Docker Compose
docker compose version

# 8. 配置自动安全更新
sudo apt install -y unattended-upgrades
sudo dpkg-reconfigure -plow unattended-upgrades
```

### 6.3 Caddy 配置 (docker/Caddyfile)

```caddyfile
yourdomain.com {
    root * /srv
    file_server

    # 压缩
    encode zstd gzip

    # 安全头
    header {
        Strict-Transport-Security "max-age=63072000; includeSubDomains; preload"
        X-Content-Type-Options "nosniff"
        X-XSS-Protection "1; mode=block"
        X-Frame-Options "SAMEORIGIN"
        Referrer-Policy "strict-origin-when-cross-origin"
        Permissions-Policy "camera=(), microphone=(), geolocation=()"
        Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; frame-src https://player.bilibili.com https://www.youtube-nocookie.com; font-src 'self'; connect-src 'self'"
        -Server
    }

    # 静态资源长期缓存
    @static { path /_astro/* }
    header @static Cache-Control "public, max-age=31536000, immutable"

    # HTML 短缓存
    @html { path_regexp \.html$ }
    header @html Cache-Control "public, max-age=3600, must-revalidate"

    # 404 处理
    handle_errors {
        @404 { expression {http.error.status_code} == 404 }
        rewrite @404 /404.html
        file_server
    }

    log {
        output file /data/access.log { roll_size 10mb; roll_keep 5 }
    }
}

www.yourdomain.com {
    redir https://yourdomain.com{uri} permanent
}
```

### 6.4 Docker Compose (docker/docker-compose.yml)

```yaml
services:
  caddy:
    image: caddy:2-alpine
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
      - "443:443/udp"   # HTTP/3
    volumes:
      - ./Caddyfile:/etc/caddy/Caddyfile:ro
      - ./site:/srv:ro
      - caddy_data:/data
      - caddy_config:/config

volumes:
  caddy_data:
  caddy_config:
```

### 6.5 部署流程

```bash
# 服务器上创建目录
sudo mkdir -p /srv/portfolio/site
sudo chown -R deploy:deploy /srv/portfolio

# 本地构建后上传
scp -r dist/* deploy@服务器IP:/srv/portfolio/site/
scp docker/docker-compose.yml deploy@服务器IP:/srv/portfolio/
scp docker/Caddyfile deploy@服务器IP:/srv/portfolio/

# 服务器上启动
cd /srv/portfolio
docker compose up -d
```

---

## 七、域名 & SSL & 备案

### 域名注册
- **推荐**: 腾讯云 DNSPod（与服务器同账号，方便 ICP 备案）
- **备选**: Cloudflare Registrar（如果用海外服务器）

### DNS 配置
| 类型 | 名称 | 值 |
|------|------|-----|
| A | @ | 服务器 IP |
| A | www | 服务器 IP |

### SSL 证书
- **Caddy 全自动处理！** 只要域名解析到服务器 IP，Caddy 会自动：
  - 从 Let's Encrypt 获取免费证书
  - 自动续期（证书 90 天有效，提前自动续）
  - HTTP → HTTPS 自动重定向
  - 启用 HTTP/2 和 HTTP/3

### ICP 备案（大陆服务器必须）
- 通过腾讯云控制台提交：控制台 → ICP 备案
- 需要：身份证正反面照片 + 域名证书
- 审批周期：7-20 个工作日
- 审批后：网站页脚必须展示 ICP 备案号

> **替代方案**: 选择腾讯云**香港**地域服务器，无需 ICP 备案，延迟增加约 20-50ms

---

## 八、CI/CD 自动部署

### GitHub Actions 工作流 (.github/workflows/deploy.yml)

```yaml
name: Build and Deploy
on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 22
          cache: 'npm'
      - run: npm ci
      - run: npm run build
      - uses: easingthemes/ssh-deploy@v5
        with:
          SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}
          REMOTE_HOST: ${{ secrets.SERVER_IP }}
          REMOTE_USER: deploy
          SOURCE: "dist/"
          TARGET: "/srv/portfolio/site/"
```

### 需要配置的 GitHub Secrets
| Secret 名称 | 值 |
|-------------|-----|
| `SSH_PRIVATE_KEY` | deploy 用户的 SSH 私钥 |
| `SERVER_IP` | 腾讯云服务器公网 IP |

---

## 九、中国特色适配

| 问题 | 解决方案 |
|------|----------|
| Google Fonts 被墙 | `@fontsource` 自托管字体 |
| YouTube 不可用 | 用 Bilibili 嵌入 |
| Google Analytics 被墙 | 用 Umami（自部署）或腾讯分析 |
| 外部 CDN 被墙 | 所有依赖本地打包，不引用外部 CDN |
| ICP 备案 | 大陆服务器必须备案，或选香港服务器 |

---

## 十、性能目标

**Lighthouse 90+ 分 (所有类别)**

已内置于架构的优化：
- ✅ Astro 默认零 JS 输出
- ✅ Islands 架构：仅交互组件加载 JS
- ✅ 自托管字体（不依赖外部 CDN）
- ✅ Astro `<Image>` 自动 WebP/AVIF + 响应式尺寸
- ✅ Caddy 启用 zstd + gzip 压缩
- ✅ 静态资源哈希命名 + immutable 缓存
- ✅ Hero 用 `client:load`，其余用 `client:visible` / `client:idle`
- ✅ 视频 iframe 懒加载

---

## 十一、实施阶段

| 阶段 | 内容 |
|------|------|
| **Phase 1: 基础搭建** | 初始化 Astro 项目，配置 React + Tailwind + MDX，设计系统，BaseLayout + 导航 |
| **Phase 2: 首页** | Hero 动效，精选项目 Grid，关于预览，博客卡片，联系 CTA |
| **Phase 3: 内容页** | About、Projects、Blog、Videos、Contact 全部页面 |
| **Phase 4: 内容填充** | 撰写实际内容，添加项目数据，第一批博客文章 |
| **Phase 5: 打磨** | 响应式、动画调优、Lighthouse 优化 |
| **Phase 6: 部署上线** | 服务器 Ubuntu + Docker + Caddy + DNS + SSL + CI/CD |
| **Phase 7: 正式上线** | 生产环境测试、ICP 备案、监控 |

---

## 十二、参考资源

### 框架文档
- Astro 官方文档: https://docs.astro.build/
- Tailwind CSS 文档: https://tailwindcss.com/docs
- Aceternity UI 组件: https://ui.aceternity.com/components
- Framer Motion: https://www.framer.com/motion/
- GSAP: https://gsap.com/docs/

### 模板参考
- Astro 主题市场: https://astro.build/themes/
- Astrofy 模板: https://github.com/manuelernestog/astrofy
- Astro + Aceternity UI: https://astro.build/themes/details/astro-with-aceternity-ui/

### 部署工具
- Caddy 文档: https://caddyserver.com/docs/
- Docker 文档: https://docs.docker.com/
- Let's Encrypt: https://letsencrypt.org/
- GitHub Actions: https://docs.github.com/en/actions

### 安全测试
- 安全头检测: https://securityheaders.com/
- SSL 评级检测: https://www.ssllabs.com/ssltest/
- Lighthouse: Chrome DevTools → Lighthouse
